"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.debugLogsRuntimePre = debugLogsRuntimePre;
exports.debugLogsRuntimePost = debugLogsRuntimePost;
const utils_js_1 = require("../shared/utils.js");
const debug_js_1 = require("../shared/debug.js");
function debugLogsRuntimePre(autoImporter) {
    if (!debug_js_1.isDebug)
        return;
    (0, debug_js_1.logDebug)('DEBUG_LOGS_RUNTIME [begin]');
    try {
        (0, debug_js_1.logDebug)('process.platform', JSON.stringify(process.platform));
    }
    catch {
        (0, debug_js_1.logDebug)('process.platform', 'undefined');
    }
    // https://stackoverflow.com/questions/4224606/how-to-check-whether-a-script-is-running-under-node-js/35813135#35813135
    try {
        (0, debug_js_1.logDebug)('process.release', JSON.stringify(process.release));
    }
    catch {
        (0, debug_js_1.logDebug)('process.release', 'undefined');
    }
    // https://github.com/cloudflare/workers-sdk/issues/1481 - Feature Request: Detect whether code is being run in Cloudflare Workers (or Node.js)
    try {
        (0, debug_js_1.logDebug)('navigator', JSON.stringify(navigator));
    }
    catch {
        (0, debug_js_1.logDebug)('navigator', 'undefined');
    }
    (0, debug_js_1.logDebug)('cwd', (0, utils_js_1.getCwdSafe)());
    (0, debug_js_1.logDebug)('importer.status', autoImporter.status);
    if (autoImporter.status === 'SET') {
        (0, debug_js_1.logDebug)('importer.pluginVersion', autoImporter.pluginVersion);
        (0, debug_js_1.logDebug)('importer.paths.autoImporterFilePathOriginal', autoImporter.paths.autoImporterFilePathOriginal);
        (0, debug_js_1.logDebug)('importer.paths.autoImporterFilePathActual', autoImporter.paths.autoImporterFilePathActual);
        (0, debug_js_1.logDebug)('importer.paths.serverEntryFilePathRelative', autoImporter.paths.serverEntryFilePathRelative);
        (0, debug_js_1.logDebug)('importer.paths.serverEntryFilePathOriginal', autoImporter.paths.serverEntryFilePathOriginal);
        try {
            (0, debug_js_1.logDebug)('importer.paths.serverEntryFilePathResolved()', autoImporter.paths.serverEntryFilePathResolved());
        }
        catch (err) {
            (0, debug_js_1.logDebug)('importer.paths.serverEntryFilePathResolved() error:', err);
            (0, debug_js_1.logDebug)('importer.paths.serverEntryFilePathResolved()', 'ERRORED');
        }
    }
}
function debugLogsRuntimePost(info) {
    if (!debug_js_1.isDebug)
        return;
    for (var key in info)
        (0, debug_js_1.logDebug)(key, info[key]);
    (0, debug_js_1.logDebug)('DEBUG_LOGS_RUNTIME [end]');
}
