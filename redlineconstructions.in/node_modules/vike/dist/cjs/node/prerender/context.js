"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.isPrerenderAutoRunEnabled = isPrerenderAutoRunEnabled;
exports.temp_disablePrerenderAutoRun = temp_disablePrerenderAutoRun;
exports.wasPrerenderRun = wasPrerenderRun;
exports.setWasPrerenderRun = setWasPrerenderRun;
const getGlobalObject_js_1 = require("../../utils/getGlobalObject.js");
const resolvePrerenderConfig_js_1 = require("./resolvePrerenderConfig.js");
const globalObject = (0, getGlobalObject_js_1.getGlobalObject)('prerender/context.ts', {});
function isPrerenderAutoRunEnabled(vikeConfig) {
    const prerenderConfigGlobal = (0, resolvePrerenderConfig_js_1.resolvePrerenderConfigGlobal)(vikeConfig);
    return (prerenderConfigGlobal.isPrerenderingEnabled &&
        !(prerenderConfigGlobal || {}).disableAutoRun &&
        !globalObject.isDisabled &&
        vikeConfig.config.disableAutoFullBuild !== 'prerender');
}
// TO-DO/next-major-release: remove
function temp_disablePrerenderAutoRun() {
    globalObject.isDisabled = true;
}
function wasPrerenderRun() {
    return globalObject.wasPrerenderRun || false;
}
function setWasPrerenderRun(trigger) {
    globalObject.wasPrerenderRun = trigger;
}
