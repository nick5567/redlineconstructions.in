"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.getConfigFileExport = getConfigFileExport;
const picocolors_1 = __importDefault(require("@brillout/picocolors"));
const assertPlusFileExport_js_1 = require("../../../../shared/page-configs/assertPlusFileExport.js");
const utils_js_1 = require("../../utils.js");
function getConfigFileExport(fileExports, filePathToShowToUser) {
    (0, assertPlusFileExport_js_1.assertPlusFileExport)(fileExports, filePathToShowToUser, 'config');
    const usesNamedExport = !!fileExports.config;
    const fileExport = usesNamedExport ? fileExports.config : fileExports.default;
    const exportName = picocolors_1.default.cyan(usesNamedExport ? 'export { config }' : 'export default');
    (0, utils_js_1.assertUsage)((0, utils_js_1.isObject)(fileExport), `The ${exportName} of ${filePathToShowToUser} should be an object (but it's ${picocolors_1.default.cyan(`typeof exportedValue === ${JSON.stringify(typeof fileExport)}`)} instead)`);
    return fileExport;
}
