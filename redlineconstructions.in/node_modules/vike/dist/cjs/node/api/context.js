"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.isVikeCliOrApi = isVikeCliOrApi;
exports.setContextApiOperation = setContextApiOperation;
exports.clearContextApiOperation = clearContextApiOperation;
exports.getApiOperation = getApiOperation;
const utils_js_1 = require("./utils.js");
const globalObject = (0, utils_js_1.getGlobalObject)('api/context.ts', {});
function getApiOperation() {
    return globalObject.apiOperation ?? null;
}
function isVikeCliOrApi() {
    // The CLI uses the API
    return !!globalObject.apiOperation;
}
function setContextApiOperation(operation, options) {
    (0, utils_js_1.assert)(!globalObject.apiOperation);
    globalObject.apiOperation = { operation, options };
}
function clearContextApiOperation() {
    globalObject.apiOperation = undefined;
}
