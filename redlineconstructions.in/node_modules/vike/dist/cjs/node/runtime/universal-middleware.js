"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = universalVikeHandler;
const index_js_1 = require("./index.js");
async function universalVikeHandler(request, context, runtime) {
    const pageContextInit = {
        ...context,
        ...runtime,
        runtime,
        urlOriginal: request.url,
        headersOriginal: request.headers,
    };
    const pageContext = await (0, index_js_1.renderPage)(pageContextInit);
    const response = pageContext.httpResponse;
    const readable = response.getReadableWebStream();
    return new Response(readable, {
        status: response.statusCode,
        headers: response.headers,
    });
}
