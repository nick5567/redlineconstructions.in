"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.findPackageJson = findPackageJson;
const findFile_js_1 = require("./findFile.js");
const node_module_1 = require("node:module");
// @ts-ignore `file:///${__filename.split('\\').join('/')}` is shimmed at dist/cjs by dist-cjs-fixup.js.
const importMetaUrl = `file:///${__filename.split('\\').join('/')}`;
const require_ = (0, node_module_1.createRequire)(importMetaUrl);
function findPackageJson(cwd) {
    const packageJsonPath = (0, findFile_js_1.findFile)('package.json', cwd);
    if (!packageJsonPath)
        return null;
    const packageJson = require_(packageJsonPath);
    return {
        packageJson,
        packageJsonPath,
    };
}
